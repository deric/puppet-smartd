# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`smartd`](#smartd): Manage smartd daemon configuration

### Functions

* [`smartd::apply_rules`](#smartd--apply_rules)

### Data types

* [`Smartd::Config`](#Smartd--Config): for passing configuration

## Classes

### <a name="smartd"></a>`smartd`

Generate rules for S.M.A.R.T attributes monitoring

#### Examples

##### 

```puppet
include smartd
```

#### Parameters

The following parameters are available in the `smartd` class:

* [`disks`](#-smartd--disks)
* [`rules`](#-smartd--rules)
* [`package_name`](#-smartd--package_name)
* [`package_ensure`](#-smartd--package_ensure)
* [`manage_package`](#-smartd--manage_package)
* [`manage_service`](#-smartd--manage_service)
* [`config_file`](#-smartd--config_file)
* [`service_name`](#-smartd--service_name)
* [`service_ensure`](#-smartd--service_ensure)
* [`devicescan`](#-smartd--devicescan)
* [`options`](#-smartd--options)
* [`defaults`](#-smartd--defaults)
* [`package_options`](#-smartd--package_options)

##### <a name="-smartd--disks"></a>`disks`

Data type: `Hash`

Hash with devices (device name => {attributes})

Default value: `pick($facts['disks'], {})`

##### <a name="-smartd--rules"></a>`rules`

Data type: `Array[Hash]`

An array of Hashes containing rules for assiging flags

Default value: `[]`

##### <a name="-smartd--package_name"></a>`package_name`

Data type: `String`

Smartmontools package name

##### <a name="-smartd--package_ensure"></a>`package_ensure`

Data type: `String`

Standard Puppet's package ensure, valid values e.g. 'present','latest','absent','purged'
Default: present

Default value: `'present'`

##### <a name="-smartd--manage_package"></a>`manage_package`

Data type: `Boolean`

Whether Smartmontools package should be managed by this module

Default value: `true`

##### <a name="-smartd--manage_service"></a>`manage_service`

Data type: `Boolean`

Whether smartd service should be managed

Default value: `true`

##### <a name="-smartd--config_file"></a>`config_file`

Data type: `Stdlib::Absolutepath`

Path to main smartd config file

##### <a name="-smartd--service_name"></a>`service_name`

Data type: `String`

smart daemon service name

##### <a name="-smartd--service_ensure"></a>`service_ensure`

Data type: `Stdlib::Ensure::Service`

Service state, either 'running' or 'stopped'
Default: 'running'

Default value: `'running'`

##### <a name="-smartd--devicescan"></a>`devicescan`

Data type: `Boolean`

Whether enable automatic disk detection.
Default: false

Default value: `false`

##### <a name="-smartd--options"></a>`options`

Data type: `Smartd::Config`

Arguments passed to devicescan devices

Default value: `undef`

##### <a name="-smartd--defaults"></a>`defaults`

Data type: `Smartd::Config`

Common arguments for all devices

Default value: `undef`

##### <a name="-smartd--package_options"></a>`package_options`

Data type: `Optional[Array]`

Install options passed to package installer

Default value: `undef`

## Functions

### <a name="smartd--apply_rules"></a>`smartd::apply_rules`

Type: Ruby 4.x API

The smartd::apply_rules function.

#### `smartd::apply_rules(Hash $disks, Array $rules)`

The smartd::apply_rules function.

Returns: `Array` Applied rules to disks config

##### `disks`

Data type: `Hash`



##### `rules`

Data type: `Array`



## Data types

### <a name="Smartd--Config"></a>`Smartd::Config`

for passing configuration

Alias of

```puppet
Optional[Variant[
                          Array[String],
                          String
                        ]]
```

